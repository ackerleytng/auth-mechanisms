<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1539" height="1979"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1539" height="1979"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="516.4130602092409" y="24.50280495" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">OpenID Connect/Keycloak SSO Sequence Diagram</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 41.363373646515626 95.887643371 L 41.363373646515626 1979.336583861" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 212.85558514430204 95.887643371 L 212.85558514430204 1979.336583861" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 916.7388794057605 95.887643371 L 916.7388794057605 1979.336583861" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1276.8481281864897 95.887643371 L 1276.8481281864897 1979.336583861" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.167601650000002 51.782594461 L 74.55914564303126 51.782594461 L 74.55914564303126 95.887643371 L 8.167601650000002 95.887643371 L 8.167601650000002 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="25.8912972305" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 168.25613425374343 51.782594461 L 257.45503603486065 51.782594461 L 257.45503603486065 95.887643371 L 168.25613425374343 95.887643371 L 168.25613425374343 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="185.97982983424345" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Browser</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 823.6550077388347 51.782594461 L 1009.8227510726863 51.782594461 L 1009.8227510726863 95.887643371 L 823.6550077388347 95.887643371 L 823.6550077388347 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="841.3787033193347" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Protected App (httpbin)</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1229.3897066538414 51.782594461 L 1324.3065497191383 51.782594461 L 1324.3065497191383 95.887643371 L 1229.3897066538414 95.887643371 L 1229.3897066538414 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1247.1134022343413" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Keycloak</text></g></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 204.68798349430205 211.867586801 L 221.02318679430203 211.867586801 L 221.02318679430203 1922.163372311 L 204.68798349430205 1922.163372311 L 204.68798349430205 211.867586801" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 908.5712777557604 257.60615604099996 L 924.9064810557605 257.60615604099996 L 924.9064810557605 414.4241077209999 L 908.5712777557604 414.4241077209999 L 908.5712777557604 257.60615604099996" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 908.5712777557604 460.16267696099993 L 924.9064810557605 460.16267696099993 L 924.9064810557605 603.912466001 L 908.5712777557604 603.912466001 L 908.5712777557604 460.16267696099993" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1268.6805265364897 731.327051741 L 1285.0157298364898 731.327051741 L 1285.0157298364898 871.8098001210001 L 1268.6805265364897 871.8098001210001 L 1268.6805265364897 731.327051741" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 33.195771996515624 933.8835726610001 L 49.53097529651563 933.8835726610001 L 49.53097529651563 995.9573452010002 L 33.195771996515624 995.9573452010002 L 33.195771996515624 933.8835726610001" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1268.6805265364897 1107.0367276410002 L 1285.0157298364898 1107.0367276410002 L 1285.0157298364898 1285.0904436110002 L 1268.6805265364897 1285.0904436110002 L 1268.6805265364897 1107.0367276410002" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 908.5712777557604 1396.1698260510002 L 924.9064810557605 1396.1698260510002 L 924.9064810557605 1706.538688751 L 908.5712777557604 1706.538688751 L 908.5712777557604 1396.1698260510002" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1268.6805265364897 1520.317371131 L 1285.0157298364898 1520.317371131 L 1285.0157298364898 1628.129712911 L 1268.6805265364897 1628.129712911 L 1268.6805265364897 1520.317371131" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 908.5712777557604 1768.612461291 L 924.9064810557605 1768.612461291 L 924.9064810557605 1876.424803071 L 908.5712777557604 1876.424803071 L 908.5712777557604 1768.612461291" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 8.16760165 141.89846599933333 L 1530.83239835 141.89846599933333 M 8.16760165 147.34353376599998 L 1530.83239835 147.34353376599998 M 8.16760165 152.78860153266663 L 1530.83239835 152.78860153266663" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 706.7303629019726 128.558049971 L 832.2696370980273 128.558049971 L 832.2696370980273 166.129017561 L 706.7303629019726 166.129017561 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="729.5996475219727" y="151.42733459099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">First Access</text></g><g><g><rect fill="white" stroke="none" x="75.4473158000182" y="190.631822511" width="95.15672554078125" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="77.8975962950182" y="205.33350548099997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Goto "httpbin"</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 41.363373646515626 211.867586801 L 201.9654496109687 211.867586801" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(204.68798349430205,211.867586801) translate(-204.68798349430205,-211.867586801)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 191.07531407763537 205.06125209266665 L 204.68798349430205 211.867586801 L 191.07531407763537 218.67392150933333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="455.63470965356646" y="236.37039175099997" width="218.3250452429297" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="458.0849901485665" y="251.07207472099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">GET https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="528.1315599727852" y="251.07207472099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="536.2755113888009" y="251.07207472099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">httpbin.example.com</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 221.02318679430203 257.60615604099996 L 905.8487438724271 257.60615604099996" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(908.5712777557604,257.60615604099996) translate(-908.5712777557604,-257.60615604099996)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 894.9586083390938 250.79982133266662 L 908.5712777557604 257.60615604099996 L 894.9586083390938 264.4124907493333 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 924.9064810557605 309.06204643599995 L 933.0740827057606 309.06204643599995 M 933.0740827057606 282.10896099099995 L 1149.0244669005651 282.10896099099995 L 1163.7261498705652 296.8106439609999 L 1163.7261498705652 336.01513188099995 L 933.0740827057606 336.01513188099995 L 933.0740827057606 282.10896099099995 M 1149.0244669005651 282.10896099099995 L 1149.0244669005651 296.8106439609999 L 1163.7261498705652 296.8106439609999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="955.9433673257606" y="304.9782456109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">No access token, so forward</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="955.9433673257606" y="321.3134489109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">to authorize endpoint</text></g><g><g><rect fill="white" stroke="none" x="310.77897387475787" y="360.51793683099993" width="508.03651680054685" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="310.77897387475787" y="376.8531401309999" width="424.4285456091406" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="310.77897387475787" y="393.1883434309999" width="308.78874458375" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="313.2292543697579" y="375.2196198009999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">307 Location: https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="441.15656149866413" y="375.2196198009999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="449.30051291467976" y="375.2196198009999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">httpbin.example.com/oauth/authorize?state=&lt;uuid-auth&gt;</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="313.2292543697579" y="391.5548231009999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">This is probably a keycloak-gatekeeper specific implementation -</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="313.2292543697579" y="407.8900264009999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">to generate the OpenID redirect to the provider</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 908.5712777557604 414.4241077209999 L 223.74572067763538 414.4241077209999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(221.02318679430203,414.4241077209999) translate(-221.02318679430203,-414.4241077209999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 234.6358562109687 407.6177730126666 L 221.02318679430203 414.4241077209999 L 234.6358562109687 421.23044242933327 Z"/></g></g><g><g><rect fill="white" stroke="none" x="339.7193425271016" y="438.9269126709999" width="450.15577949585935" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="342.16962302210163" y="453.6285956409999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">GET https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="412.2161928463204" y="453.6285956409999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="420.360144262336" y="453.6285956409999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">httpbin.example.com/oauth/authorize?state=&lt;uuid-auth&gt;</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 221.02318679430203 460.16267696099993 L 905.8487438724271 460.16267696099993" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(908.5712777557604,460.16267696099993) translate(-908.5712777557604,-460.16267696099993)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 894.9586083390938 453.3563422526666 L 908.5712777557604 460.16267696099993 L 894.9586083390938 466.96901166933327 Z"/></g></g><g><g><rect fill="white" stroke="none" x="272.30628710717974" y="484.665481911" width="584.9818903357032" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="272.30628710717974" y="501.00068521099996" width="119.38820137085938" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="272.30628710717974" y="517.335888511" width="373.5395990759375" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="272.30628710717974" y="533.671091811" width="151.16249336304688" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="272.30628710717974" y="550.006295111" width="198.41601814332031" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="272.30628710717974" y="566.341498411" width="133.24293769898438" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="272.30628710717974" y="582.676701711" width="366.5831781775" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="274.75656760217976" y="499.36716488099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">307 Location: https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="402.683874731086" y="499.36716488099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="410.82782614710163" y="499.36716488099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">keycloak.com/auth/realms/applications/protocol/openid-connect/auth</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="274.75656760217976" y="515.702368181" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">?client_id=httpbin</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="274.75656760217976" y="532.037571481" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">&amp;redirect_uri=https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="402.24733603479694" y="532.037571481" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="410.39128745081257" y="532.037571481" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">httpbin.example.com/oauth/callback</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="274.75656760217976" y="548.372774781" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">&amp;response_type=code</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="274.75656760217976" y="564.707978081" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">&amp;scope=openid+email+profile</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="274.75656760217976" y="581.043181381" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">&amp;state=&lt;uuid-auth&gt;</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="274.75656760217976" y="597.378384681" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Also set OAuth Token Request State (CSRF Protection)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 908.5712777557604 603.912466001 L 223.74572067763538 603.912466001" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(221.02318679430203,603.912466001) translate(-221.02318679430203,-603.912466001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 234.6358562109687 597.1061312926666 L 221.02318679430203 603.912466001 L 234.6358562109687 610.7188007093333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="481.30128014988804" y="628.415270951" width="527.1011530310157" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="481.30128014988804" y="644.750474251" width="119.38820137085938" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="481.30128014988804" y="661.085677551" width="373.5395990759375" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="481.30128014988804" y="677.420880851" width="151.16249336304688" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="481.30128014988804" y="693.756084151" width="198.41601814332031" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="481.30128014988804" y="710.091287451" width="133.24293769898438" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="483.75156064488806" y="643.116953921" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">GET https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="553.7981304691068" y="643.116953921" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="561.9420818851224" y="643.116953921" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">keycloak.com/auth/realms/applications/protocol/openid-connect/auth</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="483.75156064488806" y="659.452157221" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">?client_id=httpbin</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="483.75156064488806" y="675.787360521" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">&amp;redirect_uri=https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="611.2423290775052" y="675.787360521" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="619.3862804935209" y="675.787360521" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">httpbin.example.com/oauth/callback</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="483.75156064488806" y="692.122563821" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">&amp;response_type=code</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="483.75156064488806" y="708.457767121" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">&amp;scope=openid+email+profile</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="483.75156064488806" y="724.792970421" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">&amp;state=&lt;uuid-auth&gt;</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 221.02318679430203 731.327051741 L 1265.9579926531562 731.327051741" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1268.6805265364897,731.327051741) translate(-1268.6805265364897,-731.327051741)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1255.067857119823 724.5207170326667 L 1268.6805265364897 731.327051741 L 1255.067857119823 738.1333864493333 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1285.0157298364898 782.782942136 L 1293.1833314864898 782.782942136 M 1293.1833314864898 755.829856691 L 1490.4198027174273 755.829856691 L 1505.1214856874274 770.531539661 L 1505.1214856874274 809.736027581 L 1293.1833314864898 809.736027581 L 1293.1833314864898 755.829856691 M 1490.4198027174273 755.829856691 L 1490.4198027174273 770.531539661 L 1505.1214856874274 770.531539661" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1316.0526161064897" y="778.699141311" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User is not authenticated,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1316.0526161064897" y="795.0343446109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> so present login form</text></g><g><g><rect fill="white" stroke="none" x="505.18595422215367" y="834.2388325310001" width="479.33180488648435" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="505.18595422215367" y="850.5740358310001" width="434.5547968298437" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="507.6362347171537" y="848.940515501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Return login form with parameters from httpbin's request stored in a JWT.</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="507.6362347171537" y="865.275718801" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Keycloak's CSRF protection is handled using server-side sessions</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1268.6805265364897 871.8098001210001 L 223.74572067763538 871.8098001210001" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(221.02318679430203,871.8098001210001) translate(-221.02318679430203,-871.8098001210001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 234.6358562109687 865.0034654126667 L 221.02318679430203 871.8098001210001 L 234.6358562109687 878.6161348293334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="68.86096586818228" y="896.3126050710001" width="116.49702705445313" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="68.86096586818228" y="912.6478083710001" width="69.25065864625" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="71.31124636318228" y="911.0142880410001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Display Keycloak</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="71.31124636318228" y="927.3494913410001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">login form</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 204.68798349430205 933.8835726610001 L 52.25350917984896 933.8835726610001" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(49.53097529651563,933.8835726610001) translate(-49.53097529651563,-933.8835726610001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 63.1436447131823 927.0772379526668 L 49.53097529651563 933.8835726610001 L 63.1436447131823 940.6899073693335 Z"/></g></g><g><g><rect fill="white" stroke="none" x="68.86454405421743" y="958.3863776110002" width="52.14692939820313" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="68.86454405421743" y="974.7215809110002" width="116.48987068238281" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="71.31482454921743" y="973.0880605810001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Fill and</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="71.31482454921743" y="989.4232638810001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">submit login form</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 49.53097529651563 995.9573452010002 L 201.9654496109687 995.9573452010002" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(204.68798349430205,995.9573452010002) translate(-204.68798349430205,-995.9573452010002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 191.07531407763537 989.1510104926668 L 204.68798349430205 995.9573452010002 L 191.07531407763537 1002.7636799093335 Z"/></g></g><g><g><rect fill="white" stroke="none" x="487.82430566258336" y="1020.4601501510002" width="514.055102005625" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="487.82430566258336" y="1036.7953534510002" width="119.38820137085938" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="487.82430566258336" y="1053.1305567510003" width="252.11743415894531" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="487.82430566258336" y="1069.4657600510004" width="279.4400507360937" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="487.82430566258336" y="1085.8009633510005" width="499.7278925329687" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="490.27458615758337" y="1035.1618331210002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="570.096760229849" y="1035.1618331210002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="578.2407116458646" y="1035.1618331210002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">keycloak.com/auth/realms/applications/login-actions/authenticate</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="490.27458615758337" y="1051.4970364210003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">?client_id=httpbin</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="490.27458615758337" y="1067.8322397210004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">&amp;&lt;more Keycloak-specific parameters</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="490.27458615758337" y="1084.1674430210005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Username and password POSTed in Body</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="490.27458615758337" y="1100.5026463210006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Keycloak session ID, httpbin's request JWT returned to Keycloak in Headers</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 221.02318679430203 1107.0367276410002 L 1265.9579926531562 1107.0367276410002" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1268.6805265364897,1107.0367276410002) translate(-1268.6805265364897,-1107.0367276410002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1255.067857119823 1100.230392932667 L 1268.6805265364897 1107.0367276410002 L 1255.067857119823 1113.8430623493334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="1304.3457204081565" y="1131.5395325910001" width="121.39914192261719" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1306.7960009031565" y="1146.2412155610002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authenticate User</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1285.0157298364898 1152.7752968810003 L 1350.3565430364897 1152.7752968810003 L 1350.3565430364897 1174.0110611710002 L 1287.7382637198232 1174.0110611710002" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1285.0157298364898,1174.0110611710002) translate(-1285.0157298364898,-1174.0110611710002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1298.6283992531564 1167.204726462667 L 1285.0157298364898 1174.0110611710002 L 1298.6283992531564 1180.8173958793334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="420.40780175633336" y="1198.513866121" width="373.97613777222654" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="420.40780175633336" y="1214.8490694210002" width="131.61844123902344" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="420.40780175633336" y="1231.1842727210003" width="648.888109818125" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="420.40780175633336" y="1247.5194760210004" width="261.978930130625" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="420.40780175633336" y="1263.8546793210005" width="437.5175348669531" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="422.85808225133337" y="1213.2155490910002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">302 Location: https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="550.7853893802396" y="1213.2155490910002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="558.9293407962552" y="1213.2155490910002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">httpbin.example.com/oauth/callback</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="422.85808225133337" y="1229.5507523910003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">?state=&lt;uuid-auth&gt;</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="422.85808225133337" y="1245.8859556910004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">&amp;session_state=&lt;Keycloak parameter to link this redirect with token set in cookie on Keycloak site&gt;</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="422.85808225133337" y="1262.2211589910005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">&amp;code=&lt;OAuth 2.0 authorization code&gt;</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="422.85808225133337" y="1278.5563622910006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Also set cookie on Keycloak site to indicate that user has logged in</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1268.6805265364897 1285.0904436110002 L 223.74572067763538 1285.0904436110002" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(221.02318679430203,1285.0904436110002) translate(-221.02318679430203,-1285.0904436110002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 234.6358562109687 1278.284108902667 L 221.02318679430203 1285.0904436110002 L 234.6358562109687 1291.8967783193334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="240.35317736596883" y="1309.593248561" width="316.09540046753904" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="240.35317736596883" y="1325.9284518610002" width="131.61844123902344" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="240.35317736596883" y="1342.2636551610003" width="648.888109818125" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="240.35317736596883" y="1358.5988584610004" width="261.978930130625" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="240.35317736596883" y="1374.9340617610005" width="455.3865839392187" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="242.80345786096882" y="1324.2949315310002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">GET https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="312.85002768518757" y="1324.2949315310002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="320.9939791012032" y="1324.2949315310002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">httpbin.example.com/oauth/callback</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="242.80345786096882" y="1340.6301348310003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">?state=&lt;uuid-auth&gt;</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="242.80345786096882" y="1356.9653381310004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">&amp;session_state=&lt;Keycloak parameter to link this redirect with token set in cookie on Keycloak site&gt;</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="242.80345786096882" y="1373.3005414310005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">&amp;code=&lt;OAuth 2.0 authorization code&gt;</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="242.80345786096882" y="1389.6357447310006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Also send cookie with OAuth Token Request State (CSRF Protection)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 221.02318679430203 1396.1698260510002 L 905.8487438724271 1396.1698260510002" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(908.5712777557604,1396.1698260510002) translate(-908.5712777557604,-1396.1698260510002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 894.9586083390938 1389.363491342667 L 908.5712777557604 1396.1698260510002 L 894.9586083390938 1402.9761607593334 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 924.9064810557605 1439.4581147960002 L 933.0740827057606 1439.4581147960002 M 933.0740827057606 1420.6726310010001 L 1110.4652170226354 1420.6726310010001 L 1125.1668999926355 1435.3743139710002 L 1125.1668999926355 1458.2435985910001 L 933.0740827057606 1458.2435985910001 L 933.0740827057606 1420.6726310010001 M 1110.4652170226354 1420.6726310010001 L 1110.4652170226354 1435.3743139710002 L 1125.1668999926355 1435.3743139710002" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="955.9433673257606" y="1443.5419156210003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Validates CSRF Token</text></g><g><g><rect fill="white" stroke="none" x="976.2094113504415" y="1482.746403541" width="191.46002449097656" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="976.2094113504415" y="1499.0816068410002" width="241.1681848913672" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="978.6596918454416" y="1497.4480865110002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authenticates with Keycloak,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="978.6596918454416" y="1513.7832898110003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">sends Authorization Code over https</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 924.9064810557605 1520.317371131 L 1265.9579926531562 1520.317371131" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1268.6805265364897,1520.317371131) translate(-1268.6805265364897,-1520.317371131)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1255.067857119823 1513.5110364226668 L 1268.6805265364897 1520.317371131 L 1255.067857119823 1527.1237058393333 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1285.0157298364898 1563.6056598760001 L 1293.1833314864898 1563.6056598760001 M 1293.1833314864898 1544.820176081 L 1516.225390485982 1544.820176081 L 1530.927073455982 1559.521859051 L 1530.927073455982 1582.391143671 L 1293.1833314864898 1582.391143671 L 1293.1833314864898 1544.820176081 M 1516.225390485982 1544.820176081 L 1516.225390485982 1559.521859051 L 1530.927073455982 1559.521859051" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1316.0526161064897" y="1567.6894607010001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Validates Authorization Code </text></g><g><g><rect fill="white" stroke="none" x="1025.1019589578634" y="1606.8939486210002" width="143.38308967652344" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1027.5522394528634" y="1621.5956315910003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Return Access Token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1268.6805265364897 1628.129712911 L 927.6290149390938 1628.129712911" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(924.9064810557605,1628.129712911) translate(-924.9064810557605,-1628.129712911)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 938.5191504724272 1621.3233782026668 L 924.9064810557605 1628.129712911 L 938.5191504724272 1634.9360476193333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="410.84319811792193" y="1652.632517861" width="276.20578254761716" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="410.84319811792193" y="1668.967721161" width="307.9080683142187" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="410.84319811792193" y="1685.3029244610002" width="237.06715644898438" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="413.29347861292194" y="1667.334200831" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">307 Location: https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="541.2207857418282" y="1667.334200831" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="549.3647371578438" y="1667.334200831" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">httpbin.example.com</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="413.29347861292194" y="1683.6694041310002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Also set Access Token in a Cookie (kc-access)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="413.29347861292194" y="1700.0046074310003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Access Token lasts 5 min by default</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 908.5712777557604 1706.538688751 L 223.74572067763538 1706.538688751" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(221.02318679430203,1706.538688751) translate(-221.02318679430203,-1706.538688751)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 234.6358562109687 1699.7323540426669 L 221.02318679430203 1706.538688751 L 234.6358562109687 1713.3450234593333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="390.0789769265157" y="1731.041493701" width="218.3250452429297" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="390.0789769265157" y="1747.3766970010001" width="349.4365106970312" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="392.5292574215157" y="1745.7431766710001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">GET https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="462.57582724573444" y="1745.7431766710001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="470.71977866175007" y="1745.7431766710001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">httpbin.example.com</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="392.5292574215157" y="1762.0783799710002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">This time with Access Token in Header (from Cookie)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 221.02318679430203 1768.612461291 L 905.8487438724271 1768.612461291" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(908.5712777557604,1768.612461291) translate(-908.5712777557604,-1768.612461291)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 894.9586083390938 1761.8061265826668 L 908.5712777557604 1768.612461291 L 894.9586083390938 1775.4187959993333 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 924.9064810557605 1811.900750036 L 933.0740827057606 1811.900750036 M 933.0740827057606 1793.115266241 L 1110.479529766776 1793.115266241 L 1125.1812127367762 1807.816949211 L 1125.1812127367762 1830.686233831 L 933.0740827057606 1830.686233831 L 933.0740827057606 1793.115266241 M 1110.479529766776 1793.115266241 L 1110.479529766776 1807.816949211 L 1125.1812127367762 1807.816949211" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="955.9433673257606" y="1815.9845508610001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Validate Access Token</text></g><g><g><rect fill="white" stroke="none" x="477.2147496315938" y="1855.1890387810001" width="175.164965286875" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="479.6650301265938" y="1869.8907217510002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Return protected resource</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 908.5712777557604 1876.424803071 L 223.74572067763538 1876.424803071" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(221.02318679430203,1876.424803071) translate(-221.02318679430203,-1876.424803071)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 234.6358562109687 1869.6184683626668 L 221.02318679430203 1876.424803071 L 234.6358562109687 1883.2311377793333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="67.30694257003773" y="1900.9276080210002" width="111.43747200074219" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="69.75722306503773" y="1915.6292909910003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Display "httpbin"</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 204.68798349430205 1922.163372311 L 44.08590752984896 1922.163372311" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(41.363373646515626,1922.163372311) translate(-41.363373646515626,-1922.163372311)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 54.976043063182296 1915.3570376026669 L 41.363373646515626 1922.163372311 L 54.976043063182296 1928.9697070193333 Z"/></g></g></g><g/><g/><g/><g/></g></svg>